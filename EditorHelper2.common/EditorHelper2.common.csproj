<Project Sdk="Microsoft.NET.Sdk">

    <PropertyGroup>
        <TargetFramework>netstandard2.1</TargetFramework>
        <LangVersion>preview</LangVersion>
        <Nullable>enable</Nullable>
        <RunPostBuildEvent>OnBuildSuccess</RunPostBuildEvent>
    </PropertyGroup>

    <!-- Publicizer -->
    <ItemGroup>
        <Publicize Include="Assembly-CSharp" MemberPattern="^SDG\.(Unturned|Framework)\.(Asset|UseableGun|Player|Editor|LocationDevkitNodeSystem|Level|RuntimeGizmos|Road|Foliage|ReunObjectRemove|Menu|ItemStore|EditorInteract|GlazierResources|Utilities.TimeUtility|CullingVolume).*" />
    </ItemGroup>

    <ItemGroup>
      <PackageReference Include="Krafs.Publicizer" Version="2.3.0">
        <PrivateAssets>all</PrivateAssets>
        <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
      </PackageReference>
      <PackageReference Include="Newtonsoft.Json" Version="13.0.4-beta1" />
      <PackageReference Include="OpenMod.UnityEngine.Redist" Version="2021.3.29.1" />
    </ItemGroup>

    <ItemGroup>
      <Reference Include="Assembly-CSharp">
        <HintPath>..\Libs\Assembly-CSharp.dll</HintPath>
      </Reference>
      <Reference Include="com.rlabrecque.steamworks.net">
        <HintPath>..\Libs\com.rlabrecque.steamworks.net.dll</HintPath>
      </Reference>
      <Reference Include="HighlightingSystem">
        <HintPath>..\Libs\HighlightingSystem.dll</HintPath>
      </Reference>
      <Reference Include="SDG.Glazier.Runtime">
        <HintPath>..\Libs\SDG.Glazier.Runtime.dll</HintPath>
      </Reference>
      <Reference Include="SDG.NetPak.Runtime">
        <HintPath>..\Libs\SDG.NetPak.Runtime.dll</HintPath>
      </Reference>
      <Reference Include="SDG.NetTransport">
        <HintPath>..\Libs\SDG.NetTransport.dll</HintPath>
      </Reference>
      <Reference Include="UnityEx">
        <HintPath>..\Libs\UnityEx.dll</HintPath>
      </Reference>
      <Reference Include="UnturnedDat">
        <HintPath>..\Libs\UnturnedDat.dll</HintPath>
      </Reference>
    </ItemGroup>

    <Target Name="PostBuild" AfterTargets="PostBuildEvent">
      <Exec Command="xcopy &quot;$(TargetPath)&quot; &quot;$(SolutionDir)Module\Libraries&quot; /Y /I" />
    </Target>

</Project>
